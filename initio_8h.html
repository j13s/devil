<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>devil: initio.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>initio.h File Reference</h1>
<p><a href="initio_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="initio_8h.html#a387c9006b27d2bce92f052897127f47b">iniread</a> (FILE *f, const char *s,...)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A variadic function that reads the values below a marker in a Devil INI file.  <a href="#a387c9006b27d2bce92f052897127f47b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="initio_8h.html#a28ba4e821d33b79b6a7b1f72cc944a42">skipline</a> (FILE *f)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Skips to the next line.  <a href="#a28ba4e821d33b79b6a7b1f72cc944a42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="initio_8h.html#aef6953ce7a28a87222a0ff10216c23ec">findmarker</a> (FILE *f, const char *<a class="el" href="nodeuni_8h.html#a4d0e0336854c608812ebc1d8d9e85dbd">m</a>, int *number)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a marker in a Devil INI file.  <a href="#aef6953ce7a28a87222a0ff10216c23ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="initio_8h.html#afbde96d406735a6548aa3d4424c95adf">initeditor</a> (const char *fn, int <a class="el" href="nodeuni_8h.html#aab5eb0bd5498ceee51491f60dd12d777">c</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the information in config/devil.ini into a viewdata struct.  <a href="#afbde96d406735a6548aa3d4424c95adf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="initio_8h.html#ac5ed8518d5a553ed847be2c79704bc34">addcfgpath</a> (char **s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Concatenates the base configuation path with a string.  <a href="#ac5ed8518d5a553ed847be2c79704bc34"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac5ed8518d5a553ed847be2c79704bc34"></a><!-- doxytag: member="initio.h::addcfgpath" ref="ac5ed8518d5a553ed847be2c79704bc34" args="(char **s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addcfgpath </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Concatenates the base configuation path with a string. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>s</em>&nbsp;</td><td>A pointer to a string that contains the INI filename.</td></tr>
  </table>
  </dd>
</dl>
<p>The directory stored in <code>init.cfgpath</code> is concatenated with a forward-slash and the string pointed to by s. The string pointed to by s then becomes the relative path to the INI file.</p>
<p>For example, if a pointer to the string <code>"try.ini"</code> is passed into the function, and <code>"conf"</code> is stored in <code>init.cfgpath</code>, then the pointer passed into the function will point to a new string <code>"conf/try.ini"</code>. </p>

</div>
</div>
<a class="anchor" id="aef6953ce7a28a87222a0ff10216c23ec"></a><!-- doxytag: member="initio.h::findmarker" ref="aef6953ce7a28a87222a0ff10216c23ec" args="(FILE *f, const char *m, int *number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int findmarker </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>number</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find a marker in a Devil INI file. </p>
<p>Look for a marker in a Devil INI file and return the number associated with that marker. A marker looks like:</p>
<p><code>:INITDATA 0</code></p>
<p>where the colon indicates the string is a marker. The identifer follows. An identifier can be any character except null and the newline character. The number is placed after one space or tab. This number will be converted to an integer using the atoi function. After the number, a newline follows. The marker plus the number may be up to 255 characters including the newline.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f</em>&nbsp;</td><td>f points to the opened INI file. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>m</em>&nbsp;</td><td>m is a string that contains the marker being looked for. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>number</em>&nbsp;</td><td>number stores the value of the marker.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>The marker was not found. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>The marker was found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a387c9006b27d2bce92f052897127f47b"></a><!-- doxytag: member="initio.h::iniread" ref="a387c9006b27d2bce92f052897127f47b" args="(FILE *f, const char *s,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iniread </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A variadic function that reads the values below a marker in a Devil INI file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f</em>&nbsp;</td><td>Devil INI file. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>t</em>&nbsp;</td><td>The string that describes each data type. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>...</em>&nbsp;</td><td>Pointers to variables that will store the values read from the INI file.</td></tr>
  </table>
  </dd>
</dl>
<p>This function reads values from an INI file. The types of data Devil reads from an INI file is hard-coded into the application. The types are like so:</p>
<p><code>g</code> - A C floating point literal.</p>
<p><code>p</code> - A point structure as defined by <a class="el" href="structs_8h.html">structs.h</a>.</p>
<p><code>U</code> - A C unsigned long integer literal in decimal.</p>
<p><code>X</code> - A C unsigned long integer literal in hexadecimal.</p>
<p><code>d</code> - A C signed integer literal.</p>
<p><code>x</code> - A C unsigned integer literal in hexadecimal.</p>
<p><code>s</code> - A Devil INI file string. See <a class="el" href="initio_8c.html#a63c3b4fa70f3aee1c1d66ca314c95f3e" title="Read a character string from a Devil INI file.">readstring()</a>.</p>
<p><code>o</code> - An objtype struct. See <a class="el" href="initio_8c.html#aad63d9348747b73c19d631e419fd0e84" title="Read an objtype struct from a Devil INI file.">readobjtype()</a>.</p>
<p><code>i</code> - An infoitem struct. This is unknown at this time.</p>
<p><code>k</code> - A <a class="el" href="structw__keycode.html">w_keycode</a> struct. This is also unknown.</p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ret</em>&nbsp;</td><td>Returns the return value of the last call to either <a class="el" href="initio_8c.html#a6a0cb085974baac310030a5d58cbdb69">readinfotype()</a> or <a class="el" href="initio_8c.html#aad63d9348747b73c19d631e419fd0e84" title="Read an objtype struct from a Devil INI file.">readobjtype()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afbde96d406735a6548aa3d4424c95adf"></a><!-- doxytag: member="initio.h::initeditor" ref="afbde96d406735a6548aa3d4424c95adf" args="(const char *fn, int c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initeditor </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads the information in config/devil.ini into a viewdata struct. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fn</em>&nbsp;</td><td>A string that contains the path to the devil.ini file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a28ba4e821d33b79b6a7b1f72cc944a42"></a><!-- doxytag: member="initio.h::skipline" ref="a28ba4e821d33b79b6a7b1f72cc944a42" args="(FILE *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void skipline </td>
          <td>(</td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Skips to the next line. </p>
<p>This function will skip to the next line by reading the rest of the INI file contents into a buffer. The size of the line must not exceed 79 characters or Devil will throw an error. This can be used to insert comments into the INI file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f</em>&nbsp;</td><td>FILE Pointer to Devil INI file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Aug 19 00:22:57 2010 for devil by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
